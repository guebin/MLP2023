<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.322">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="최규빈">
<meta name="dcterms.date" content="2023-10-05">

<title>MP2023 - 05wk-022: 취업+각종영어점수, 다중공선성</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">MP2023</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../offline.html"> 
<span class="menu-text"><strong>대면수업</strong></span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/guebin/MP2023"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.youtube.com/channel/UCQk9RyBNgXc7ORIsYlOfQrg/playlists?view=50&amp;sort=dd&amp;shelf_id=2"> <i class="bi bi-youtube" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#강의영상" id="toc-강의영상" class="nav-link active" data-scroll-target="#강의영상">1. 강의영상</a></li>
  <li><a href="#imports" id="toc-imports" class="nav-link" data-scroll-target="#imports">2. Imports</a></li>
  <li><a href="#상상" id="toc-상상" class="nav-link" data-scroll-target="#상상">3. 상상</a></li>
  <li><a href="#잘못된-분석" id="toc-잘못된-분석" class="nav-link" data-scroll-target="#잘못된-분석">4. 잘못된 분석</a></li>
  <li><a href="#제대로-분석했다면" id="toc-제대로-분석했다면" class="nav-link" data-scroll-target="#제대로-분석했다면">5. 제대로 분석했다면?</a>
  <ul class="collapse">
  <li><a href="#a.-toeic과-gpa가-유의미한-변수라는걸-눈치챘다면" id="toc-a.-toeic과-gpa가-유의미한-변수라는걸-눈치챘다면" class="nav-link" data-scroll-target="#a.-toeic과-gpa가-유의미한-변수라는걸-눈치챘다면">A. <code>toeic</code>과 <code>gpa</code>가 유의미한 변수라는걸 눈치챘다면?</a></li>
  <li><a href="#b.-하다못해-toeic0과-gpa로-적합했다면" id="toc-b.-하다못해-toeic0과-gpa로-적합했다면" class="nav-link" data-scroll-target="#b.-하다못해-toeic0과-gpa로-적합했다면">B. 하다못해 <code>toeic0</code>과 <code>gpa</code>로 적합했다면?</a></li>
  </ul></li>
  <li><a href="#discussions" id="toc-discussions" class="nav-link" data-scroll-target="#discussions">6. Discussions</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="06wk-022.out.ipynb" download="06wk-022.out.ipynb"><i class="bi bi-journal-code"></i>Jupyter</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">05wk-022: 취업+각종영어점수, 다중공선성</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>최규빈 </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 5, 2023</p>
    </div>
  </div>
  
    
  </div>
  


</header>

<section id="강의영상" class="level1">
<h1>1. 강의영상</h1>
</section>
<section id="imports" class="level1">
<h1>2. Imports</h1>
<div id="d59089a4-68c0-445b-a878-14a36d010007" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sklearn.linear_model</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="상상" class="level1 page-columns page-full">
<h1>3. 상상</h1>
<p><code>-</code> 아래와 같은 가짜뉴스를 읽어보자.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<div class="no-row-height column-margin column-container"><li id="fn1"><p><sup>1</sup>&nbsp;제가 ChatGPT를 이용하여 생성한 가짜뉴스입니다. 뉴스는 실제사실을 반영한 것이 아닙니다.</p></li></div><p><strong>헤드라인</strong>: “텝스와 다른 영어 인증 시험들, 결국은 토익과 비슷한 결과를 보여준다?”</p>
<hr>
<p><strong>본문</strong>:</p>
<p>최근 몇 년 동안, 토익의 신뢰성에 대한 논란이 계속되어 왔습니다. 이러한 배경 속에서 텝스(TEPS), 토플(TOEFL) 등 여러 새로운 영어 능력 평가 시험이 등장하였습니다. 많은 학생들과 직장인들은 이러한 새로운 시험들이 토익보다 더 신뢰성 있고 현실적인 능력을 평가할 것이라는 기대감을 가지고 있었습니다.</p>
<p>그러나 최근에 발표된 연구결과에 따르면, 텝스와 다른 영어 인증 시험들도 결국에는 토익과 매우 비슷한 성적 분포와 결과를 보여주었다고 합니다. 연구 팀은 여러 시험들간의 점수 분포와 성적의 상관관계를 분석한 결과, 대부분의 시험들이 실제 영어 능력에 대해 유사한 평가를 제공한다는 결론을 내렸습니다.</p>
<p>“많은 사람들이 새로운 시험들이 더 현실적이거나 다양한 영어 능력을 평가할 것이라 기대했지만, 실제로는 모든 시험들이 비슷한 결과를 보여주었습니다.” 라며 연구 팀의 대표는 이렇게 언급하였습니다.</p>
<p>이러한 연구결과는 영어 능력 평가 시험의 표준화와 신뢰성에 대한 논의를 새롭게 불러일으킬 것으로 보입니다.</p>
<p><code>-</code> 이 뉴스에 근거하여 아래의 가짜자료를 생성했다.</p>
<div id="df31636f" class="cell" data-execution_count="112">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">"https://raw.githubusercontent.com/guebin/MP2023/main/posts/employment_manytoeic.csv"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="112">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">employment_score</th>
<th data-quarto-table-cell-role="th">gpa</th>
<th data-quarto-table-cell-role="th">toeic</th>
<th data-quarto-table-cell-role="th">toeic0</th>
<th data-quarto-table-cell-role="th">toeic1</th>
<th data-quarto-table-cell-role="th">toeic2</th>
<th data-quarto-table-cell-role="th">toeic3</th>
<th data-quarto-table-cell-role="th">toeic4</th>
<th data-quarto-table-cell-role="th">toeic5</th>
<th data-quarto-table-cell-role="th">toeic6</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">toeic490</th>
<th data-quarto-table-cell-role="th">toeic491</th>
<th data-quarto-table-cell-role="th">toeic492</th>
<th data-quarto-table-cell-role="th">toeic493</th>
<th data-quarto-table-cell-role="th">toeic494</th>
<th data-quarto-table-cell-role="th">toeic495</th>
<th data-quarto-table-cell-role="th">toeic496</th>
<th data-quarto-table-cell-role="th">toeic497</th>
<th data-quarto-table-cell-role="th">toeic498</th>
<th data-quarto-table-cell-role="th">toeic499</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>-0.949314</td>
<td>0.051535</td>
<td>135</td>
<td>134.889567</td>
<td>132.466381</td>
<td>134.328746</td>
<td>133.692285</td>
<td>134.490387</td>
<td>133.482738</td>
<td>135.805902</td>
<td>...</td>
<td>134.568925</td>
<td>135.248135</td>
<td>135.557690</td>
<td>134.307587</td>
<td>136.115518</td>
<td>136.895841</td>
<td>135.599610</td>
<td>134.083179</td>
<td>135.125554</td>
<td>134.320048</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>4.861725</td>
<td>0.355496</td>
<td>935</td>
<td>933.897710</td>
<td>934.928312</td>
<td>935.665096</td>
<td>934.115679</td>
<td>934.204277</td>
<td>935.213653</td>
<td>935.551083</td>
<td>...</td>
<td>932.507220</td>
<td>934.449154</td>
<td>935.213485</td>
<td>935.216839</td>
<td>935.039467</td>
<td>935.400347</td>
<td>934.172674</td>
<td>935.189259</td>
<td>936.578955</td>
<td>937.278620</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>5.582663</td>
<td>2.228435</td>
<td>485</td>
<td>483.020037</td>
<td>484.161879</td>
<td>486.041920</td>
<td>482.954745</td>
<td>485.891348</td>
<td>484.849052</td>
<td>485.410756</td>
<td>...</td>
<td>484.863750</td>
<td>485.516249</td>
<td>484.523790</td>
<td>486.036836</td>
<td>485.011074</td>
<td>485.637154</td>
<td>484.001982</td>
<td>485.544729</td>
<td>485.815829</td>
<td>485.042914</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>3.919694</td>
<td>1.179701</td>
<td>65</td>
<td>66.780387</td>
<td>67.388852</td>
<td>65.622595</td>
<td>62.763278</td>
<td>65.935953</td>
<td>67.288798</td>
<td>66.314210</td>
<td>...</td>
<td>64.151163</td>
<td>64.677268</td>
<td>66.340589</td>
<td>64.291130</td>
<td>64.540950</td>
<td>66.728237</td>
<td>65.474820</td>
<td>65.725247</td>
<td>65.015707</td>
<td>65.399658</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>8.286851</td>
<td>3.962356</td>
<td>445</td>
<td>444.348116</td>
<td>445.520801</td>
<td>446.419087</td>
<td>442.715198</td>
<td>445.043974</td>
<td>444.849464</td>
<td>446.178144</td>
<td>...</td>
<td>444.993117</td>
<td>444.999768</td>
<td>445.773163</td>
<td>444.924819</td>
<td>442.703987</td>
<td>445.118233</td>
<td>445.119561</td>
<td>446.214723</td>
<td>444.983397</td>
<td>444.455462</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">495</td>
<td>7.002081</td>
<td>4.288465</td>
<td>280</td>
<td>280.520486</td>
<td>281.060157</td>
<td>281.291354</td>
<td>280.816827</td>
<td>280.867509</td>
<td>279.748219</td>
<td>280.956388</td>
<td>...</td>
<td>280.864668</td>
<td>280.261168</td>
<td>278.871055</td>
<td>280.267526</td>
<td>279.792068</td>
<td>279.931181</td>
<td>280.606405</td>
<td>280.710435</td>
<td>279.602746</td>
<td>280.472047</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">496</td>
<td>5.431050</td>
<td>2.601212</td>
<td>310</td>
<td>310.015294</td>
<td>310.003728</td>
<td>308.680788</td>
<td>309.179518</td>
<td>310.908038</td>
<td>308.580682</td>
<td>308.720718</td>
<td>...</td>
<td>310.670717</td>
<td>310.872724</td>
<td>309.631197</td>
<td>309.723108</td>
<td>309.624440</td>
<td>310.207927</td>
<td>308.519863</td>
<td>309.858127</td>
<td>310.602814</td>
<td>310.841082</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">497</td>
<td>0.088812</td>
<td>0.042323</td>
<td>225</td>
<td>225.226422</td>
<td>225.738373</td>
<td>223.342848</td>
<td>226.416036</td>
<td>223.478492</td>
<td>225.080199</td>
<td>224.896846</td>
<td>...</td>
<td>223.252383</td>
<td>226.178697</td>
<td>225.494945</td>
<td>225.154573</td>
<td>225.254684</td>
<td>224.711397</td>
<td>225.259744</td>
<td>223.700222</td>
<td>225.700224</td>
<td>225.120175</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">498</td>
<td>3.806388</td>
<td>1.041416</td>
<td>320</td>
<td>321.135794</td>
<td>319.880713</td>
<td>319.759936</td>
<td>321.071771</td>
<td>320.085155</td>
<td>320.657430</td>
<td>320.802495</td>
<td>...</td>
<td>319.875882</td>
<td>321.006234</td>
<td>319.054499</td>
<td>320.498798</td>
<td>320.407021</td>
<td>323.002351</td>
<td>319.496038</td>
<td>320.011256</td>
<td>319.304070</td>
<td>320.418582</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">499</td>
<td>6.739095</td>
<td>3.626883</td>
<td>375</td>
<td>376.032149</td>
<td>373.131026</td>
<td>374.800140</td>
<td>374.541924</td>
<td>375.363948</td>
<td>375.758260</td>
<td>375.045161</td>
<td>...</td>
<td>375.452139</td>
<td>374.790209</td>
<td>374.247366</td>
<td>372.755630</td>
<td>373.711254</td>
<td>376.621000</td>
<td>373.979317</td>
<td>374.788932</td>
<td>374.153385</td>
<td>373.678255</td>
</tr>
</tbody>
</table>

<p>500 rows × 503 columns</p>
</div>
</div>
</div>
<ul>
<li>toeic0,toeic1,… 등은 토익과 유사한 새로운 시험들을 의미함. (실제 점수는 정수이겠지만 편의상 소수점으로 사용하였음)</li>
<li>employmet_score는 회사에 내부적으로 정의된 채점기준표이며, 이 기준표에 의하여 일정점수 이상인 사람은 합격하고, 그렇지 않은 사람은 불합격한다고 가정함.</li>
</ul>
<p><code>-</code> 비밀: 사실 저는 데이터를 아래의 공식에 따라서 만들었어요..</p>
<pre><code>employment_score = toeic*1/200 + gpa*1.3 + random </code></pre>
</section>
<section id="잘못된-분석" class="level1">
<h1>4. 잘못된 분석</h1>
<div id="3d3da29f-eb94-4950-9931-3e3a823c5259" class="cell" data-execution_count="144">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>df_train, df_test <span class="op">=</span> sklearn.model_selection.train_test_split(df,test_size<span class="op">=</span><span class="fl">0.3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="aaff234e-cead-466e-bfc1-e9538b0c807e" class="cell" data-execution_count="145">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> df_train.drop([<span class="st">'employment_score'</span>],axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> df_train[[<span class="st">'employment_score'</span>]]</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>XX <span class="op">=</span> df_test.drop([<span class="st">'employment_score'</span>],axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>yy <span class="op">=</span> df_test[[<span class="st">'employment_score'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="e7045ffa-40b3-4a27-aa72-c6b2eefcdd31" class="cell" data-execution_count="146">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>predictr <span class="op">=</span> sklearn.linear_model.LinearRegression()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="90f5f5d8" class="cell" data-execution_count="147">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>X.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="147">
<pre><code>(350, 502)</code></pre>
</div>
</div>
<div id="f68283fb-4ce1-483f-8f46-af6e37030888" class="cell" data-execution_count="148">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>predictr.fit(X,y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="148">
<style>#sk-container-id-13 {color: black;}#sk-container-id-13 pre{padding: 0;}#sk-container-id-13 div.sk-toggleable {background-color: white;}#sk-container-id-13 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-13 label.sk-toggleable__label-arrow:before {content: "▸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-13 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-13 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-13 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-13 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-13 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-13 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "▾";}#sk-container-id-13 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-13 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-13 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-13 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-13 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-13 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-13 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-13 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-13 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-13 div.sk-item {position: relative;z-index: 1;}#sk-container-id-13 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-13 div.sk-item::before, #sk-container-id-13 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-13 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-13 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-13 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-13 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-13 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-13 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-13 div.sk-label-container {text-align: center;}#sk-container-id-13 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-13 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-13" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>LinearRegression()</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-13" type="checkbox" checked=""><label for="sk-estimator-id-13" class="sk-toggleable__label sk-toggleable__label-arrow">LinearRegression</label><div class="sk-toggleable__content"><pre>LinearRegression()</pre></div></div></div></div></div>
</div>
</div>
<div id="4788d2e2-6973-413e-aba4-07c3ff817f44" class="cell" data-execution_count="149">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>predictr.coef_,predictr.intercept_</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="149">
<pre><code>(array([[ 1.02112402e+00, -2.36677547e-03,  3.85523072e-02,
          3.38623268e-02, -2.93432251e-02, -8.23255968e-02,
         -2.83792390e-02, -3.30451680e-02, -3.59693327e-02,
         -3.10135375e-02,  4.94534726e-02,  9.13078604e-02,
          2.19221569e-02,  7.60323862e-02, -1.12324645e-02,
          6.11014041e-02,  7.33509312e-02,  5.81189572e-02,
         -9.38924796e-02, -6.90024776e-03, -8.91948888e-03,
          1.98972471e-02, -3.48094590e-02, -1.39698116e-02,
          4.57744732e-02, -7.52517020e-02, -1.20673156e-03,
         -3.06126049e-02,  3.47035620e-03, -6.98785901e-02,
         -6.39852251e-02,  3.09712557e-02, -1.69024490e-01,
         -5.81227554e-03,  8.28833397e-02,  4.46112770e-02,
         -1.04920534e-01,  4.53796358e-02, -3.62899835e-03,
          2.36434638e-02, -3.09819376e-02,  1.03528073e-01,
          8.55996278e-02,  4.71787798e-02, -1.83272849e-02,
         -2.63809229e-02,  8.80727421e-02,  5.34362626e-02,
          5.70442025e-02, -1.96062839e-02, -8.07072325e-02,
         -6.18870402e-03, -1.42632989e-01, -2.16704165e-02,
          5.72968158e-02, -1.08218361e-02, -6.05512616e-02,
         -7.91124231e-02,  9.90442328e-02,  1.23071587e-01,
          6.12439197e-02, -7.35826850e-03,  7.72779710e-02,
         -1.23138559e-02, -1.70240337e-01,  2.48262896e-02,
         -1.28177753e-02, -9.34980400e-02,  1.73631902e-02,
         -2.74123570e-02, -1.23429315e-01, -6.36588921e-02,
         -5.79106545e-02, -4.59984064e-02,  7.91648985e-02,
         -5.81344305e-02,  6.00382284e-02,  9.71515353e-02,
          8.30895524e-02, -9.55928263e-02, -5.08409283e-03,
          1.19146114e-02,  4.97364198e-02,  1.25862009e-01,
         -4.76259912e-02,  2.86036179e-02, -1.73158500e-03,
          2.75241272e-02, -1.01862535e-02,  7.39374949e-02,
          7.88123906e-02, -7.91063985e-02,  3.24109686e-03,
         -6.90837634e-02, -2.78003899e-02,  2.40906669e-03,
          7.92850148e-02,  5.64507245e-02,  3.62075312e-02,
          1.05744314e-01,  6.14079246e-02, -1.30983937e-02,
         -1.00661879e-01,  1.52327898e-03,  1.01447275e-01,
         -5.18665219e-02, -1.05134743e-02, -1.22418482e-02,
          4.18889264e-02, -5.53596255e-02,  3.28401932e-02,
          1.46697343e-01,  9.83667348e-02, -1.65347004e-02,
         -1.21643851e-01,  3.46690767e-02, -1.58286180e-03,
         -1.46900923e-02,  9.36106860e-02, -8.65241174e-02,
          5.66207767e-03,  5.76166130e-02, -1.37747651e-02,
         -5.10480420e-02,  1.38500614e-02,  3.48144516e-02,
          9.43023559e-03, -1.59371866e-02,  1.16029923e-02,
         -1.10922716e-02, -3.81182549e-02, -8.19472433e-02,
         -7.59895988e-02,  1.53086077e-02, -6.80273134e-03,
         -5.31132144e-02,  6.94663080e-02,  4.06838653e-02,
          5.42612577e-02,  8.99365523e-02,  8.95961369e-03,
         -3.52236347e-02, -1.20113121e-01, -7.21366777e-02,
         -1.16095384e-02, -1.60706101e-01, -3.54898580e-02,
         -1.58927476e-01, -7.98616509e-02, -4.56563918e-02,
          1.62724040e-02,  5.22037474e-02,  8.16500088e-03,
          6.33606583e-02,  2.30816083e-02,  7.43569807e-02,
          3.87697911e-02,  1.07896528e-01,  1.97924418e-01,
         -1.25684757e-01, -5.94043894e-02,  2.00462035e-02,
          8.30175595e-03, -7.97723989e-02,  3.21814352e-02,
         -8.44551267e-02, -7.00917978e-02,  1.42046274e-01,
          2.10765945e-04,  3.36363057e-02,  1.58583829e-01,
         -4.90975963e-02, -7.33121041e-03,  2.28974130e-02,
          7.01101569e-02, -3.57865805e-02, -2.96804130e-02,
          4.05534995e-02, -2.18515037e-02, -3.15341677e-02,
         -4.16902366e-02,  6.22208304e-02, -1.29533902e-01,
         -9.64964312e-02, -1.20777015e-02, -1.62049125e-03,
          1.20426351e-02,  6.26004778e-02,  1.71237568e-02,
         -4.71327539e-02,  7.62310813e-02,  1.96560803e-02,
          6.35389872e-03,  3.89763113e-02, -2.84769455e-03,
         -4.12673295e-02, -2.04271299e-01, -4.65820685e-02,
         -3.93927988e-02, -3.10827168e-02, -6.23085182e-02,
         -3.01263126e-04, -2.65259534e-02, -9.69835030e-02,
         -1.30254726e-02,  6.00203997e-02, -6.09476670e-03,
         -1.34547183e-01, -1.64393007e-02, -5.90124757e-02,
         -6.34949137e-02,  8.14789410e-02,  1.58757669e-01,
          8.62933543e-02,  5.45906241e-02,  1.24305969e-01,
          2.26114277e-02, -3.46329241e-02,  1.88227598e-02,
         -4.59435862e-02, -1.50772594e-01, -1.10359440e-02,
          1.14595723e-02, -4.85162753e-02, -7.50037240e-02,
          3.11793435e-02, -4.60665893e-02,  7.53159140e-02,
         -1.00548276e-01, -6.14559765e-02, -6.83097296e-02,
         -4.56887197e-03,  5.57495845e-02,  4.15810631e-02,
          7.73247084e-03,  7.48764639e-02, -1.04533621e-02,
         -1.55504197e-01,  5.50979700e-02, -8.87063607e-02,
         -9.38158937e-04,  2.43556586e-02, -3.46149131e-02,
         -1.27974404e-01,  2.01930557e-02, -7.59125567e-03,
         -1.53953745e-02, -8.70657567e-02,  8.30284335e-02,
         -8.78648565e-02,  2.24050421e-01,  1.28077189e-01,
          2.66093957e-02,  3.71691873e-02, -3.06173150e-02,
         -7.98619531e-03, -1.36248229e-01, -3.43411820e-02,
          3.21209696e-02,  1.15105577e-01,  7.85356225e-03,
         -7.73607836e-02, -2.00042344e-02, -1.76378602e-02,
          3.71561661e-02, -8.99948108e-02,  3.03532642e-02,
         -3.49680603e-02, -4.61380976e-02, -1.11821977e-02,
          5.00281422e-02,  5.24786944e-02,  3.33403755e-02,
         -3.92995044e-02,  7.10524687e-02, -6.13754797e-02,
          4.47487701e-02, -1.94348543e-02, -2.57319617e-02,
         -6.21305555e-02, -4.59424615e-02,  6.36477774e-02,
          6.04673858e-02, -6.11520358e-02,  8.07904024e-02,
         -2.44266950e-02, -4.34823903e-02,  5.86457632e-02,
          9.03873170e-03, -7.72379320e-02,  5.57757012e-02,
         -1.81965126e-03, -6.07917149e-02, -1.36173683e-01,
          7.14324566e-02, -1.15082657e-02, -1.40847532e-02,
         -9.87613293e-02, -9.19805250e-03, -3.19945696e-02,
          1.08932415e-03,  7.86168897e-02,  7.37396997e-02,
          5.13834350e-02, -4.59771927e-02, -6.27071892e-02,
          9.30666921e-02,  4.37101473e-02,  2.84475381e-02,
          5.18884259e-02, -1.94602969e-02, -3.68269158e-02,
          3.85056525e-03, -6.00553877e-02,  1.14804041e-02,
          1.23040086e-01,  3.17748486e-03,  5.96968109e-02,
         -5.24423374e-02,  1.32018065e-01, -3.38380537e-02,
         -3.42923451e-02,  2.91707540e-02, -4.31793962e-02,
          1.93802195e-02, -1.40088128e-02,  3.24507299e-02,
         -4.89623267e-02,  5.36975004e-02, -4.53545315e-03,
          3.04436435e-02, -8.78086776e-02,  4.18790333e-02,
          2.67113589e-02,  5.76757423e-02, -7.71513330e-02,
          1.03055968e-01,  1.31656997e-01,  1.13940285e-01,
          8.10249569e-02,  1.20379969e-01,  7.35017199e-02,
         -6.90288543e-02, -1.50272442e-01, -6.60438401e-02,
         -6.44098739e-02, -6.23378841e-02, -6.22515938e-02,
         -3.80960994e-02,  1.54398408e-02,  3.42952814e-04,
         -6.92531973e-02, -1.86073656e-03, -3.37259903e-02,
         -7.29289175e-03, -6.79659717e-02,  2.47478090e-02,
         -8.08186194e-02, -1.04072370e-01, -1.04320463e-01,
          9.47065615e-02,  2.05039776e-02,  4.86148240e-02,
          4.73821224e-02, -6.22665308e-02,  2.58131694e-02,
          3.94198249e-02, -2.09076252e-01, -6.56104410e-03,
          4.24690588e-03, -1.31985901e-01, -5.61666063e-02,
         -1.41040364e-01,  5.79559017e-02,  9.53388940e-02,
          2.97221849e-02, -7.21339353e-03,  2.06214841e-02,
          5.22036934e-02,  2.61129571e-02, -6.53909971e-02,
          1.70837869e-02,  5.54950506e-03,  8.66368610e-03,
          7.49165531e-02, -9.83277647e-02,  7.46332132e-02,
          5.31943533e-02,  6.37184011e-02,  7.58169730e-03,
          6.55934319e-02,  2.69766292e-03, -7.70618466e-02,
          1.52578789e-01,  4.55751337e-02, -6.07168471e-02,
         -5.76532725e-02, -2.34312823e-02, -8.67955033e-02,
          9.16474393e-02, -1.50663256e-01,  1.42411356e-02,
          1.03479352e-01,  1.22991034e-01,  1.02516508e-01,
          9.42812861e-03, -5.07282632e-02,  1.19524958e-01,
         -3.16108580e-02,  4.36867513e-02,  7.48605820e-02,
          1.42833612e-01, -4.73992587e-02,  5.18266117e-02,
         -1.04910507e-02, -3.57537819e-03,  6.78909283e-02,
         -5.35085016e-02, -5.59635989e-02, -1.71535797e-02,
          8.39513059e-02, -3.19037931e-02,  5.41172825e-03,
         -3.09136077e-02,  3.71478937e-02, -1.25582872e-02,
         -3.11528875e-02,  2.20929976e-02, -5.76349068e-02,
         -1.15652272e-01,  8.24484633e-02, -1.19151229e-02,
          8.68064538e-04, -1.39262071e-02,  1.66074717e-01,
          8.53423312e-02, -3.89791287e-02, -4.39046813e-02,
         -1.65681771e-01,  4.80101151e-02, -8.90446077e-02,
         -6.81494322e-02,  5.73417063e-03, -1.95498099e-02,
          7.91973697e-02,  1.58000586e-03,  5.02952874e-02,
          7.42321283e-02, -4.43705576e-02, -1.51569954e-01,
         -7.50675686e-02, -9.55051198e-02,  6.17260872e-02,
          1.33248346e-02,  4.93617316e-02,  3.56286450e-02,
         -3.90262739e-02, -4.13074950e-02, -7.13692732e-02,
          8.33029808e-02,  1.41648760e-01, -9.04257475e-03,
         -5.61768800e-03,  8.07080059e-02,  1.93598608e-02,
          8.60831677e-02, -2.04371893e-02, -2.44477488e-02,
         -4.49802449e-02,  7.94351670e-02,  8.68065578e-02,
         -1.10842276e-01, -1.12659663e-01,  8.71019102e-02,
          4.29461185e-02,  2.33710943e-02, -5.19185679e-02,
          2.88324323e-02,  5.10168742e-02, -6.78134089e-02,
          2.90490450e-02,  3.73131696e-02,  1.85843467e-01,
         -2.30043488e-01,  1.68686138e-01,  4.73779396e-02,
          3.94794737e-02,  1.33842960e-01, -8.56977113e-02,
          1.00610335e-02, -5.87598358e-03, -1.49747366e-01,
          1.57368757e-02, -6.27412205e-02, -6.31240131e-02,
          3.37142939e-02, -6.93336198e-02,  2.39104183e-03,
         -7.39233889e-03,  4.60701985e-03,  6.13898214e-02,
          6.59990287e-02]]),
 array([0.44843498]))</code></pre>
</div>
</div>
<ul>
<li>실제계수값은 <code>토익*0.005</code>, <code>GPA*1.3</code> 인데.. GPA는 얼추맞는거 같지만, 토익은 딱봐도 틀려보임..</li>
</ul>
<div id="8b1393a2-3138-4212-b515-33154e267e13" class="cell" data-execution_count="150">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>predictr.score(X,y) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="150">
<pre><code>1.0</code></pre>
</div>
</div>
<div id="766d702a-5446-46d9-9fd3-253d00701a42" class="cell" data-execution_count="151">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>predictr.score(XX,yy)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="151">
<pre><code>0.37707343690857686</code></pre>
</div>
</div>
</section>
<section id="제대로-분석했다면" class="level1">
<h1>5. 제대로 분석했다면?</h1>
<section id="a.-toeic과-gpa가-유의미한-변수라는걸-눈치챘다면" class="level2">
<h2 class="anchored" data-anchor-id="a.-toeic과-gpa가-유의미한-변수라는걸-눈치챘다면">A. <code>toeic</code>과 <code>gpa</code>가 유의미한 변수라는걸 눈치챘다면?</h2>
<div id="ad218142-a53d-4cb0-b3d6-6c5662b0f514" class="cell" data-execution_count="122">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> df_train[[<span class="st">'toeic'</span>,<span class="st">'gpa'</span>]]</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> df_train[[<span class="st">'employment_score'</span>]]</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>XX <span class="op">=</span> df_test[[<span class="st">'toeic'</span>,<span class="st">'gpa'</span>]]</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>yy <span class="op">=</span> df_test[[<span class="st">'employment_score'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="29e3d75c-800c-4065-8b44-fabc524d9e8b" class="cell" data-execution_count="123">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>predictr <span class="op">=</span> sklearn.linear_model.LinearRegression()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="b712a388-4a65-4688-bfc8-a9b4153445d8" class="cell" data-execution_count="124">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>predictr.fit(X,y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="124">
<style>#sk-container-id-10 {color: black;}#sk-container-id-10 pre{padding: 0;}#sk-container-id-10 div.sk-toggleable {background-color: white;}#sk-container-id-10 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-10 label.sk-toggleable__label-arrow:before {content: "▸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-10 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-10 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-10 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-10 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-10 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-10 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "▾";}#sk-container-id-10 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-10 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-10 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-10 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-10 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-10 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-10 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-10 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-10 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-10 div.sk-item {position: relative;z-index: 1;}#sk-container-id-10 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-10 div.sk-item::before, #sk-container-id-10 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-10 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-10 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-10 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-10 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-10 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-10 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-10 div.sk-label-container {text-align: center;}#sk-container-id-10 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-10 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-10" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>LinearRegression()</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-10" type="checkbox" checked=""><label for="sk-estimator-id-10" class="sk-toggleable__label sk-toggleable__label-arrow">LinearRegression</label><div class="sk-toggleable__content"><pre>LinearRegression()</pre></div></div></div></div></div>
</div>
</div>
<div id="571f071e-f7df-4113-bdd4-2e284edd2ba7" class="cell" data-execution_count="125">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>predictr.coef_,predictr.intercept_</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="125">
<pre><code>(array([[0.00517485, 1.30448417]]), array([-0.08665847]))</code></pre>
</div>
</div>
<div id="7ba0a143-a6ee-429f-aef8-7cb1a541a4ca" class="cell" data-execution_count="126">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>predictr.score(X,y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="126">
<pre><code>0.8249262562780773</code></pre>
</div>
</div>
<div id="ff348484-3008-4cc6-bf84-f588db1228f3" class="cell" data-execution_count="127">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>predictr.score(XX,yy)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="127">
<pre><code>0.8347244826096045</code></pre>
</div>
</div>
</section>
<section id="b.-하다못해-toeic0과-gpa로-적합했다면" class="level2">
<h2 class="anchored" data-anchor-id="b.-하다못해-toeic0과-gpa로-적합했다면">B. 하다못해 <code>toeic0</code>과 <code>gpa</code>로 적합했다면?</h2>
<div id="b1185f01" class="cell" data-execution_count="128">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> df_train[[<span class="st">'toeic0'</span>,<span class="st">'gpa'</span>]]</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> df_train[[<span class="st">'employment_score'</span>]]</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>XX <span class="op">=</span> df_test[[<span class="st">'toeic0'</span>,<span class="st">'gpa'</span>]]</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>yy <span class="op">=</span> df_test[[<span class="st">'employment_score'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="4951dc0f" class="cell" data-execution_count="129">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>predictr <span class="op">=</span> sklearn.linear_model.LinearRegression()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="9abef74a" class="cell" data-execution_count="130">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>predictr.fit(X,y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="130">
<style>#sk-container-id-11 {color: black;}#sk-container-id-11 pre{padding: 0;}#sk-container-id-11 div.sk-toggleable {background-color: white;}#sk-container-id-11 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-11 label.sk-toggleable__label-arrow:before {content: "▸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-11 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-11 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-11 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-11 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-11 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-11 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "▾";}#sk-container-id-11 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-11 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-11 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-11 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-11 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-11 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-11 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-11 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-11 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-11 div.sk-item {position: relative;z-index: 1;}#sk-container-id-11 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-11 div.sk-item::before, #sk-container-id-11 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-11 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-11 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-11 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-11 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-11 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-11 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-11 div.sk-label-container {text-align: center;}#sk-container-id-11 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-11 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-11" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>LinearRegression()</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-11" type="checkbox" checked=""><label for="sk-estimator-id-11" class="sk-toggleable__label sk-toggleable__label-arrow">LinearRegression</label><div class="sk-toggleable__content"><pre>LinearRegression()</pre></div></div></div></div></div>
</div>
</div>
<div id="22c7cddd" class="cell" data-execution_count="131">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>predictr.coef_,predictr.intercept_</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="131">
<pre><code>(array([[0.00517489, 1.30422841]]), array([-0.08635412]))</code></pre>
</div>
</div>
<div id="27045386" class="cell" data-execution_count="132">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>predictr.score(X,y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="132">
<pre><code>0.8249991103247842</code></pre>
</div>
</div>
<div id="355ff595" class="cell" data-execution_count="133">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>predictr.score(XX,yy)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="133">
<pre><code>0.8346691714793039</code></pre>
</div>
</div>
</section>
</section>
<section id="discussions" class="level1 page-columns page-full">
<h1>6. Discussions</h1>
<p><code>-</code> 어렴풋한 감각: 쓸모없는 변수가 많이 있으면 오히려 모형의 적합도가 떨어진다. (규칙을 찾으면 안될것에서 규칙을 찾고있으니까 잘 될리가 없지)</p>
<p><code>-</code> 쓸모없는 변수란 느낌이 드는 경우?</p>
<ul>
<li>경우1: 진짜 쓸모 없는거.. (X1= 부먹/찍먹, X2= 민초/민초X) <span class="math inline">\(\to\)</span> 애초에 <code>X1</code>,<code>X2</code>을 보고 <code>y</code>를 맞출 생각이 들지 않어..</li>
<li>경우2: 실제론 쓸모 있는데, 대체자가 있는 경우. (X1= toeic, X2= 유사toeic) <span class="math inline">\(\to\)</span> <code>X1</code> 을 보고 <code>y</code>를 맞출 것 같은 생각이 들어, 그리고 <code>X2</code>를 보고 <code>y</code>를 맞출 것 같은 생각도 들어. 그런데 <code>X1</code>이랑 <code>X2</code>는 너무 비슷해</li>
</ul>
<p><code>-</code> 경우1, 경우2 모두 과대적합(overfitting)을 야기한다. 그리고 경우2와 같은 상황에서 발생하는 문제를 특별히 다중공선성이라고 칭한다.</p>
<p><code>-</code> 다중공선성이 발생했을 경우 나타나는 특징</p>
<ol type="1">
<li>계수들의 추정값이 불안정하다<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></li>
<li>과대적합 문제를 불러올 수 있음</li>
<li>계수의 해석이 어려움</li>
</ol>
<div class="no-row-height column-margin column-container"><li id="fn2"><p><sup>2</sup>&nbsp;사실 <code>toeic의 계수 + toeic0의 계수 + ... + toeic49의 계수</code> <span class="math inline">\(\approx\)</span> <code>0.05</code> 이면 거진 올바른 추정아니야? 애초에 답이 여러개야</p></li></div><p><code>-</code> 의문: 그래서 해결방법은? 변수를 잘 보고 제거하라고??</p>


</section>


</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        for (let i = 0; i < 2; i++) {
          container.appendChild(note.children[i].cloneNode(true));
        }
        return container.innerHTML
      } else {
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        console.log("RESIZE");
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://utteranc.es/client.js" repo="guebin/MP2023" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->




</body></html>